CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

MESSAGE("Configuring project benchmark sources")
PROJECT (Spruce)

INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/include)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/src/syscall/include)

ADD_SUBDIRECTORY(dup)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/src/syscall/dup)

ADD_SUBDIRECTORY(read_write)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/src/syscall/read_write)


ADD_SUBDIRECTORY(close)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/src/syscall/close)

ADD_EXECUTABLE(syscall main.cpp)
TARGET_LINK_LIBRARIES(syscall utils dup close)


TARGET_LINK_LIBRARIES(syscall utils dup read_write)
TARGET_LINK_LIBRARIES(syscall rt)

install (	FILES "${CMAKE_BINARY_DIR}/bin/syscall"
			DESTINATION bin
			PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ GROUP_EXECUTE GROUP_READ WORLD_EXECUTE WORLD_READ)

