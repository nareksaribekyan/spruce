CMAKE_MINIMUM_REQUIRED(VERSION 2.4)

MESSAGE("Configuring project benchmark sources.")

PROJECT (Spruce)

INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/include)

ADD_EXECUTABLE(createfile test1/file.cpp)
ADD_EXECUTABLE(test1 test1/main.cpp test1/test_base.cpp test1/Creator.cpp )
target_link_libraries(test1 utils)

install (	FILES "${CMAKE_BINARY_DIR}/bin/ext4fs_plugin"
			DESTINATION bin
			PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ GROUP_EXECUTE GROUP_READ WORLD_EXECUTE WORLD_READ)

INSTALL(
		FILES ${CMAKE_BINARY_DIR}/bin/test1
		DESTINATION bin
		PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ GROUP_EXECUTE GROUP_READ WORLD_EXECUTE WORLD_READ
)

FILE(
	INSTALL ${CMAKE_SOURCE_DIR}/src/benchmark/test1/test1.sh
	DESTINATION ${CMAKE_BINARY_DIR}/bin
	NO_SOURCE_PERMISSIONS
)

EXECUTE_PROCESS(COMMAND chmod +x ${CMAKE_BINARY_DIR}/bin/test1.sh)
