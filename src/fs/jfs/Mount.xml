<TestSet Name="Mount">
	<Requires>sys/mount.h</Requires>
	<!-- Kernel bug in generic_make_request_check brings to a BUG dirung resize.-->
	<!--Test Name="RemountResize" FaultSimulationReady="true">
		<Description>Resize.</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "resize" ) == -1, "Remount-resize failed");
			
			return Success;
		</Code>
	</Test-->
	<Test Name="RemountIntegrity" FaultSimulationReady="true">
		<Description>Integrity</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "integrity" ) == -1, "Remount-integrity failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountNoIntegrity" FaultSimulationReady="true">
		<Description>nointegrity</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "nointegrity" ) == -1, "Remount-nointegrity failed");
			
			return Success;
		</Code>
	</Test>
	<Test Name="RemountIOCharset" FaultSimulationReady="true">
		<Description>iocharset</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "iocharset=utf8" ) == -1, "Remount-iocharset failed");
			
			return Success;
		</Code>
	</Test>
	<Test Name="RemountErrorsContinue" FaultSimulationReady="true">
		<Description>errors_continue</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "errors=continue" ) == -1, "Remount-errors=continue failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountErrorsRemountRO" FaultSimulationReady="true">
		<Description>errors_remount_ro</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "errors=remount-ro" ) == -1, "Remount-errors=remount-ro failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountErrorsPanic" FaultSimulationReady="true">
		<Description>errors_remount_ro</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "errors=panic" ) == -1, "Remount-errors=panic failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountNoQuota" FaultSimulationReady="true">
		<Description>noquota</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "noquota" ) == -1, "Remount-noquota failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountQuota" FaultSimulationReady="true">
		<Description>quota</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "quota" ) == -1, "Remount-quota failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountUsrquota" FaultSimulationReady="true">
		<Description>usrquota</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "usrquota" ) == -1, "Remount-usrquota failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountGrpquota" FaultSimulationReady="true">
		<Description>grpquota</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "grpquota" ) == -1, "Remount-grpquota failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountUID" FaultSimulationReady="true">
		<Description>uid</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "uid=0" ) == -1, "Remount-uid failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountGID" FaultSimulationReady="true">
		<Description>gid</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "gid=0" ) == -1, "Remount-gid failed");
			
			return Success;
		</Code>
	</Test>	
	<Test Name="RemountUmask" FaultSimulationReady="true">
		<Description>umask</Description>		
		<Code>
			Unres(! strcmp(DeviceName, ""), "No partition name is provided.");
			Unres(! strcmp(FileSystem, ""), "No file system type is provided.");
			Unres(! strcmp(MountPoint, ""), "No mount point is provided.");
			EnableFaultSim();
			Fail ( mount( DeviceName, MountPoint, FileSystem, MS_REMOUNT, "umask=777" ) == -1, "Remount-umask failed");
			
			return Success;
		</Code>
	</Test>	
</TestSet>

